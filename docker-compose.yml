version: '3'

services:
  serviceA: # this value will be used as Docker service name for `docker` commands
    build:
      context: ./a_service
      dockerfile: Dockerfile
    image: service-a
    container_name: ServiceA
    ports:
      - "3001:3001"

  serviceB:
    build:
      context: ./b_service
      dockerfile: Dockerfile
    image: service-b
    container_name: ServiceB
    ports:
      - "3002:3002"

  serverApp:
    build:
      context: ./app_server
      dockerfile: Dockerfile
    image: server-app
    container_name: ServerApp
    ports:
      - "3000:3000"
    depends_on:
      - serviceA
      - serviceB
